$(document).ready(function(){var t,n,r,o,e,a,c,i,u,l,d,f,p,s;return t=[800,600],n=t[0],r=t[1],o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19].map(function(t){var o,e,a;return o=[Math.random()*n,Math.random()*r],e=o[0],a=o[1],{x:e,y:a,idx:t}}),e=d3.layout.force().size([800,600]).nodes(o),a=d3.geom.voronoi().clipExtent([[0,0],[n,r]]).x(function(t){return t.x}).y(function(t){return t.y}),c=d3.select("svg"),i=c.selectAll("circle").data(o,function(t){return t.idx}).enter().append("circle"),u=c.selectAll("path.voronoi").data(a(o)).enter().append("path").attr("class","voronoi"),t=[360,100,100],l=t[0],d=t[1],f=t[2],p=d3.geom.polygon(function(){var t,n,r=[];for(t=0,n=l;n>t;++t)r.push(t);return r}().map(function(t){return[400+d*Math.cos(3.14*(360/l)*t/180),300-f*Math.sin(3.14*(360/l)*t/180)]})),s=function(){return i.attr({cx:function(t){return t.x},cy:function(t){return t.y},r:2}),u.data(a(o).map(function(t){return p.clip(d3.geom.polygon(t))}).filter(function(t){return t.length})).attr({stroke:"#000","stroke-width":"1",fill:"rgba(0,0,0,0.1)",d:function(t){return"M"+t.join("L")+"Z"}}),e.alpha(.101)},e.on("tick",s).start()});